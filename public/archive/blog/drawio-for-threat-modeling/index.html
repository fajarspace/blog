<!doctype html>
<html
  lang="en-us"
  dir="ltr"
>
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8" />
<meta name="language" content="en" />
<meta name="viewport" content="width=device-width" />
<title>
    Draw.io for threat modeling | Today I Learned
</title>
  <meta name="description" content="I’ve spent a good amount of time lately trying to find a good tool for threat model diagramming. I defined a couple of requirements and started assessing what was out there:
Support for Data Flow Diagrams (DFD) and Attack Trees: I believe these are essential for threat modeling. Sequence Diagrams are a plus too. Enjoyable and easy to use: It must be easy to create diagrams and no weird bugs to make it clunky or cumbersome to work with. This is important, not only for my own sanity, but also for getting developers to adopt the practice. If you don’t provide them with a good tool, they probably won’t do it. Free and cross-platform: It must be free and work on Windows, Mac and Linux. If the tool only works on Windows or you have to juggle licenses, it makes it much harder to introduce threat modeling in an organization. Not web or “Cloud” based: It should feel like a proper desktop application and storage should be good old local files. Cloud (a.k.a. someone else’s computer) can be nice, but not for threat modeling. File based storage also makes it easy to check the diagrams into version control and make it live next to the code. I checked out quite a lot of different tools but none of them fulfilled the requirements. Many didn’t have elements for DFDs and Attack Trees, Microsoft Threat Modeling Tool only runs on Windows, Threat Modeler is web based, Threat Dragon felt awkward to work with, and Dia is old, clunky and buggy." />
<meta property="og:url" content="http://localhost:1313/archive/blog/drawio-for-threat-modeling/">
  <meta property="og:site_name" content="Today I Learned">
  <meta property="og:title" content="Draw.io for threat modeling">
  <meta property="og:description" content="I’ve spent a good amount of time lately trying to find a good tool for threat model diagramming. I defined a couple of requirements and started assessing what was out there:
Support for Data Flow Diagrams (DFD) and Attack Trees: I believe these are essential for threat modeling. Sequence Diagrams are a plus too. Enjoyable and easy to use: It must be easy to create diagrams and no weird bugs to make it clunky or cumbersome to work with. This is important, not only for my own sanity, but also for getting developers to adopt the practice. If you don’t provide them with a good tool, they probably won’t do it. Free and cross-platform: It must be free and work on Windows, Mac and Linux. If the tool only works on Windows or you have to juggle licenses, it makes it much harder to introduce threat modeling in an organization. Not web or “Cloud” based: It should feel like a proper desktop application and storage should be good old local files. Cloud (a.k.a. someone else’s computer) can be nice, but not for threat modeling. File based storage also makes it easy to check the diagrams into version control and make it live next to the code. I checked out quite a lot of different tools but none of them fulfilled the requirements. Many didn’t have elements for DFDs and Attack Trees, Microsoft Threat Modeling Tool only runs on Windows, Threat Modeler is web based, Threat Dragon felt awkward to work with, and Dia is old, clunky and buggy.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="archive">
    <meta property="article:published_time" content="2018-10-05T00:00:00+00:00">
    <meta property="article:modified_time" content="2018-10-05T00:00:00+00:00">
    <meta property="og:image" content="http://localhost:1313/archive/blog/drawio-for-threat-modeling/attack-tree-elements_thumbnail.png">


  <meta itemprop="name" content="Draw.io for threat modeling">
  <meta itemprop="description" content="I’ve spent a good amount of time lately trying to find a good tool for threat model diagramming. I defined a couple of requirements and started assessing what was out there:
Support for Data Flow Diagrams (DFD) and Attack Trees: I believe these are essential for threat modeling. Sequence Diagrams are a plus too. Enjoyable and easy to use: It must be easy to create diagrams and no weird bugs to make it clunky or cumbersome to work with. This is important, not only for my own sanity, but also for getting developers to adopt the practice. If you don’t provide them with a good tool, they probably won’t do it. Free and cross-platform: It must be free and work on Windows, Mac and Linux. If the tool only works on Windows or you have to juggle licenses, it makes it much harder to introduce threat modeling in an organization. Not web or “Cloud” based: It should feel like a proper desktop application and storage should be good old local files. Cloud (a.k.a. someone else’s computer) can be nice, but not for threat modeling. File based storage also makes it easy to check the diagrams into version control and make it live next to the code. I checked out quite a lot of different tools but none of them fulfilled the requirements. Many didn’t have elements for DFDs and Attack Trees, Microsoft Threat Modeling Tool only runs on Windows, Threat Modeler is web based, Threat Dragon felt awkward to work with, and Dia is old, clunky and buggy.">
  <meta itemprop="datePublished" content="2018-10-05T00:00:00+00:00">
  <meta itemprop="dateModified" content="2018-10-05T00:00:00+00:00">
  <meta itemprop="wordCount" content="631">
  <meta itemprop="image" content="http://localhost:1313/archive/blog/drawio-for-threat-modeling/attack-tree-elements_thumbnail.png">

  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:image" content="http://localhost:1313/archive/blog/drawio-for-threat-modeling/attack-tree-elements_thumbnail.png">
  <meta name="twitter:title" content="Draw.io for threat modeling">
  <meta name="twitter:description" content="I’ve spent a good amount of time lately trying to find a good tool for threat model diagramming. I defined a couple of requirements and started assessing what was out there:
Support for Data Flow Diagrams (DFD) and Attack Trees: I believe these are essential for threat modeling. Sequence Diagrams are a plus too. Enjoyable and easy to use: It must be easy to create diagrams and no weird bugs to make it clunky or cumbersome to work with. This is important, not only for my own sanity, but also for getting developers to adopt the practice. If you don’t provide them with a good tool, they probably won’t do it. Free and cross-platform: It must be free and work on Windows, Mac and Linux. If the tool only works on Windows or you have to juggle licenses, it makes it much harder to introduce threat modeling in an organization. Not web or “Cloud” based: It should feel like a proper desktop application and storage should be good old local files. Cloud (a.k.a. someone else’s computer) can be nice, but not for threat modeling. File based storage also makes it easy to check the diagrams into version control and make it live next to the code. I checked out quite a lot of different tools but none of them fulfilled the requirements. Many didn’t have elements for DFDs and Attack Trees, Microsoft Threat Modeling Tool only runs on Windows, Threat Modeler is web based, Threat Dragon felt awkward to work with, and Dia is old, clunky and buggy.">

<link rel="canonical" href="http://localhost:1313/archive/blog/drawio-for-threat-modeling/" />

    <link rel="stylesheet" href="/css/index.css" />


      <script src="/js/main.js" defer></script>
  

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "WebPage",
  "copyrightNotice": "Fajar Today",
  "description": "I’ve spent a good amount of time lately trying to find a good tool for threat model diagramming. I defined a couple of requirements and started assessing what was out there:\nSupport for Data Flow Diagrams (DFD) and Attack Trees: I believe these are essential for threat modeling. Sequence Diagrams are a plus too. Enjoyable and easy to use: It must be easy to create diagrams and no weird bugs to make it clunky or cumbersome to work with. This is important, not only for my own sanity, but also for getting developers to adopt the practice. If you don’t provide them with a good tool, they probably won’t do it. Free and cross-platform: It must be free and work on Windows, Mac and Linux. If the tool only works on Windows or you have to juggle licenses, it makes it much harder to introduce threat modeling in an organization. Not web or “Cloud” based: It should feel like a proper desktop application and storage should be good old local files. Cloud (a.k.a. someone else’s computer) can be nice, but not for threat modeling. File based storage also makes it easy to check the diagrams into version control and make it live next to the code. I checked out quite a lot of different tools but none of them fulfilled the requirements. Many didn’t have elements for DFDs and Attack Trees, Microsoft Threat Modeling Tool only runs on Windows, Threat Modeler is web based, Threat Dragon felt awkward to work with, and Dia is old, clunky and buggy.",
  "headline": "Draw.io for Threat Modeling"
}
</script>


    <style>
       
      @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');

       
      body {
        font-family:
          'Inter',
          -apple-system,
          BlinkMacSystemFont,
          'Segoe UI',
          Roboto,
          Oxygen,
          Ubuntu,
          Cantarell,
          sans-serif;
        min-height: 100vh;
      }

       
      @media (min-width: 1024px) {
         
        #mobile-navbar {
          display: none;
        }
      }

       
      @media (max-width: 1023px) {
        body {
          padding-top: 4rem;  
        }

         
        #desktop-sidebar {
          display: none;
        }
      }

       
      .sidebar-title,
      .navbar-title {
        font-size: 1.875rem;  
        font-weight: 600;
        line-height: 1.2;
        letter-spacing: -0.025em;
      }

      .sidebar-subtitle,
      .navbar-subtitle {
        font-size: 0.875rem;  
        font-weight: 400;
        color: #9ca3af;  
      }

      .sidebar-author {
        font-size: 0.8125rem;  
        font-weight: 300;
        color: #6b7280;  
      }

      .sidebar-nav {
        font-size: 0.9375rem;  
        font-weight: 400;
      }

      .sidebar-nav a {
        color: #e5e7eb;  
        transition: all 0.2s ease;
      }

      .sidebar-nav a:hover {
        color: #ffffff;
        transform: translateX(4px);
      }

       
      .mobile-menu-item {
        color: #e5e7eb;
        padding: 0.75rem 1.5rem;
        display: block;
        transition: all 0.2s ease;
        font-size: 1rem;
      }

      .mobile-menu-item:hover {
        background-color: #1f2937;
        color: #ffffff;
      }

       
      #desktop-sidebar,
      #mobile-navbar {
        background-color: #121212;
      }

       
      .social-icon {
        background-color: #1f2937;  
        transition: all 0.2s ease;
      }

      .social-icon:hover {
        background-color: #374151;  
        transform: scale(1.05);
      }

       
      .navbar-title {
        font-size: 1.5rem;  
      }

       
      #mobile-dropdown {
        transform-origin: top;
        transition: all 0.3s ease;
      }

      #mobile-dropdown.hidden {
        transform: scaleY(0);
        opacity: 0;
      }

      #mobile-dropdown:not(.hidden) {
        transform: scaleY(1);
        opacity: 1;
      }
    </style>
  </head>
  <body>
    
    <aside id="desktop-sidebar" class="fixed bottom-0 left-0 top-0 z-40 h-full w-64 p-5 text-white">
  <div class="flex h-full flex-col justify-between p-6">
    <div>
      
      <div class="mb-12">
        <a href="/">
          <h1 class="text-3xl font-semibold leading-tight tracking-tight text-white">Today</h1>
          <p class="mt-1 text-sm font-normal text-gray-400">I Learned</p>
          <p class="mt-2 text-xs font-light text-gray-500">by Fajar A Nugroho</p>
        </a>
      </div>

      
        <nav class="space-y-5 text-[15px] font-normal">
          <ul>
  <li
    class="flex items-center space-y-5 text-gray-200 transition-transform hover:translate-x-1 hover:text-white"
  >
    <a
      class="flex items-center text-gray-200 transition-transform hover:translate-x-1 hover:text-white" class="block pl-7 text-gray-200 transition-transform hover:translate-x-1 hover:text-white" href="/notes/">
      <span class="mr-3 text-lg">→</span> <span>Notes</span></a
    >
  </li>
  <li
    class="flex items-center space-y-5 text-gray-200 transition-transform hover:translate-x-1 hover:text-white"
  >
    <a
      class="flex items-center text-gray-200 transition-transform hover:translate-x-1 hover:text-white" class="block pl-7 text-gray-200 transition-transform hover:translate-x-1 hover:text-white" href="/posts/">
      <span class="mr-3 text-lg">→</span> <span>Posts</span></a
    >
  </li>

          </ul>
        </nav>
    </div>

    
    <div class="mt-8 flex space-x-3">
      
    </div>
  </div>
</aside>


<nav
  id="mobile-navbar"
  class="fixed left-0 right-0 top-0 z-50 bg-black text-white shadow-lg lg:hidden"
>
  <div class="flex items-center justify-between px-4 py-3">
    
    <div class="flex items-center space-x-2">
      <h1 class="navbar-title text-white">Today</h1>
      <span class="navbar-subtitle">I Learned</span>
    </div>

    
    <button
      id="mobile-menu-toggle"
      class="rounded-lg bg-gray-800 p-2 transition-colors hover:bg-gray-700"
      aria-label="Toggle menu"
    >
      <svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M4 6h16M4 12h16M4 18h16"
          class="menu-icon"
        ></path>
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M6 18L18 6M6 6l12 12"
          class="close-icon hidden"
        ></path>
      </svg>
    </button>
  </div>

  
  <div id="mobile-dropdown" class="hidden border-t border-gray-800 bg-black">
    
      <nav class="space-y-5 p-5 text-[15px] font-normal">
        <ul>
  <li
    class="flex items-center space-y-5 text-gray-200 transition-transform hover:translate-x-1 hover:text-white"
  >
    <a
      class="flex items-center text-gray-200 transition-transform hover:translate-x-1 hover:text-white" class="block pl-7 text-gray-200 transition-transform hover:translate-x-1 hover:text-white" href="/notes/">
      <span class="mr-3 text-lg">→</span> <span>Notes</span></a
    >
  </li>
  <li
    class="flex items-center space-y-5 text-gray-200 transition-transform hover:translate-x-1 hover:text-white"
  >
    <a
      class="flex items-center text-gray-200 transition-transform hover:translate-x-1 hover:text-white" class="block pl-7 text-gray-200 transition-transform hover:translate-x-1 hover:text-white" href="/posts/">
      <span class="mr-3 text-lg">→</span> <span>Posts</span></a
    >
  </li>

        </ul>
      </nav>

  </div>
</nav>



    
    <div class="container mx-auto flex max-w-prose flex-col space-y-10 p-4 md:p-6">
      <header class="flex flex-row items-center justify-between">
        



      </header>
      <main class="prose prose-slate relative md:prose-lg prose-h1:text-[2em]" id="maincontent">
        <article class="main">
    <header>
      <h1 class="!mb-1">Draw.io for Threat Modeling</h1><div class="flex flex-row items-center space-x-4">
          <time class="text-sm italic opacity-80" datetime="2018-10-05T00:00:00&#43;00:00"
            >October 5, 2018</time
          >
        </div>
    </header>

    <p>I&rsquo;ve spent a good amount of time lately trying to find a good tool for threat model diagramming. I defined a couple of requirements and started assessing what was out there:</p>
<ul>
<li><strong>Support for Data Flow Diagrams (DFD) and Attack Trees:</strong> I believe these are essential for threat modeling. Sequence Diagrams are a plus too.</li>
<li><strong>Enjoyable and easy to use:</strong> It must be easy to create diagrams and no weird bugs to make it clunky or cumbersome to work with. This is important, not only for my own sanity, but also for getting developers to adopt the practice. If you don&rsquo;t provide them with a good tool, they probably won&rsquo;t do it.</li>
<li><strong>Free and cross-platform:</strong> It must be free and work on Windows, Mac and Linux. If the tool only works on Windows or you have to juggle licenses, it makes it much harder to introduce threat modeling in an organization.</li>
<li><strong>Not web or &ldquo;Cloud&rdquo; based:</strong> It should feel like a proper desktop application and storage should be good old local files. Cloud (a.k.a. someone else&rsquo;s computer) can be nice, but not for threat modeling. File based storage also makes it easy to check the diagrams into version control and make it live next to the code.</li>
</ul>
<p>I checked out quite a lot of different tools but none of them fulfilled the requirements. Many didn&rsquo;t have elements for DFDs and Attack Trees, <a href="https://www.microsoft.com/en-us/download/details.aspx?id=49168">Microsoft Threat Modeling Tool</a> only runs on Windows, <a href="https://threatmodeler.com/">Threat Modeler</a> is web based, <a href="https://threatdragon.org/">Threat Dragon</a> felt awkward to work with, and <a href="http://dia-installer.de/index.html.en">Dia</a> is old, clunky and buggy.</p>
<p>I was pretty dissapointed with what I found, so I scratched my own itch and started work on a new Electron based app which I hoped would be the perfect fit for me, and hopefully many others. Doing the initial research for this, I came across the <a href="https://github.com/jgraph/mxgraph">mxgraph</a> project which seemed to be the perfect core diagramming component. Then I saw that it was used as part of a tool called <a href="https://www.draw.io/">draw.io</a> and that luckily turned out to be the perfect fit, with a bit of configuration and customization&hellip;</p>
<h3 id="dfd-and-attack-trees-in-drawio" class="scroll-mt-8 group">
  DFD and Attack Trees in draw.io
  
    <a href="#dfd-and-attack-trees-in-drawio"
        class="no-underline hidden opacity-50 hover:opacity-100 !text-inherit group-hover:inline-block"
        aria-hidden="true" title="Link to this heading" tabindex="-1">
        <svg
  xmlns="http://www.w3.org/2000/svg"
  width="16"
  height="16"
  fill="none"
  stroke="currentColor"
  stroke-linecap="round"
  stroke-linejoin="round"
  stroke-width="2"
  class="lucide lucide-link w-4 h-4 block"
  viewBox="0 0 24 24"
>
  <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" />
  <path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" />
</svg>

    </a>
  
</h3>
<p>Draw.io doesn&rsquo;t come with dedicated libraries for DFDs and attack trees, but it has all the elements. They are just spread across several different libraries. After playing around with the tool for a bit, I discovered that it&rsquo;s super easy to customize elements and adding them to custom libraries which can be exported for easy reuse. I created two new libraries with all you need for DFD and attack trees and <a href="https://github.com/michenriksen/drawio-threatmodeling">put them up on Github</a>.</p>
<h3 id="data-flow-diagrams" class="scroll-mt-8 group">
  Data Flow Diagrams
  
    <a href="#data-flow-diagrams"
        class="no-underline hidden opacity-50 hover:opacity-100 !text-inherit group-hover:inline-block"
        aria-hidden="true" title="Link to this heading" tabindex="-1">
        <svg
  xmlns="http://www.w3.org/2000/svg"
  width="16"
  height="16"
  fill="none"
  stroke="currentColor"
  stroke-linecap="round"
  stroke-linejoin="round"
  stroke-width="2"
  class="lucide lucide-link w-4 h-4 block"
  viewBox="0 0 24 24"
>
  <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" />
  <path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" />
</svg>

    </a>
  
</h3>
<p>These are the elements available in the <code>dfd.xml</code> library:</p>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<!-- raw HTML omitted -->
<p>Apart from the classic DFD elements, the library also contains a note element, labels for assets, threat actors, security controls, and convenient tables for documenting them directly in the diagram.</p>
<p>To show you how it all works together, I&rsquo;ve created a diagram of a simple, fictitious system:</p>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<!-- raw HTML omitted -->
<h3 id="attack-trees" class="scroll-mt-8 group">
  Attack Trees
  
    <a href="#attack-trees"
        class="no-underline hidden opacity-50 hover:opacity-100 !text-inherit group-hover:inline-block"
        aria-hidden="true" title="Link to this heading" tabindex="-1">
        <svg
  xmlns="http://www.w3.org/2000/svg"
  width="16"
  height="16"
  fill="none"
  stroke="currentColor"
  stroke-linecap="round"
  stroke-linejoin="round"
  stroke-width="2"
  class="lucide lucide-link w-4 h-4 block"
  viewBox="0 0 24 24"
>
  <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" />
  <path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" />
</svg>

    </a>
  
</h3>
<p>These are the elements available in the <code>attack-tree.xml</code> library:</p>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<!-- raw HTML omitted -->
<p>To show you how these work together, I have recreated the classic <em>Open Safe</em> attack tree:</p>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<!-- raw HTML omitted -->
<h3 id="getting-set-up" class="scroll-mt-8 group">
  Getting set up
  
    <a href="#getting-set-up"
        class="no-underline hidden opacity-50 hover:opacity-100 !text-inherit group-hover:inline-block"
        aria-hidden="true" title="Link to this heading" tabindex="-1">
        <svg
  xmlns="http://www.w3.org/2000/svg"
  width="16"
  height="16"
  fill="none"
  stroke="currentColor"
  stroke-linecap="round"
  stroke-linejoin="round"
  stroke-width="2"
  class="lucide lucide-link w-4 h-4 block"
  viewBox="0 0 24 24"
>
  <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" />
  <path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" />
</svg>

    </a>
  
</h3>
<ol>
<li><a href="https://about.draw.io/integrations/#integrations_offline">Download</a> and install draw.io for your operating system</li>
<li>Clone or download the <a href="https://github.com/michenriksen/drawio-threatmodeling">Github repository</a></li>
<li>Open draw.io application and create a new blank diagram</li>
<li>Click the <em>File</em> menu and then click <em>Open Library&hellip;</em></li>
<li>Navigate to where you put the Github repository and open one of the XML files</li>
</ol>
<p>Congratulations! You are now ready to threat model. To make draw.io even nicer, I can recommend turning on the <em>Minimal</em> theme by clicking the <em>Extras</em> menu and selecting the Minimal theme. This makes the UI cleaner and gives more space for actual diagramming.</p>
<p>I hope that you will find this helpful and make it easier and more joyful to threat model for you and your team.</p>

  </article>

      </main>
      <footer class="mt-20 border-t border-neutral-100 pt-2 text-xs">
        <section class="items-top flex flex-row justify-between opacity-70">
  <div class="flex flex-col space-y-2">
      <p>Copyright &copy; 2025, Fajar Today.</p>

  </div>
    <div>
      <a
        href="https://github.com/michenriksen/hugo-theme-til"
        title="Today I Learned &#8212; A Hugo theme by Michael Henriksen"
        data-theme-version="0.6.0"
        >theme: til</a
      >
    </div>
</section>

      </footer>
    </div>

    


    
    <script>
      document.addEventListener('DOMContentLoaded', function () {
        const toggleButton = document.getElementById('mobile-menu-toggle');
        const dropdown = document.getElementById('mobile-dropdown');
        const menuIcon = toggleButton.querySelector('.menu-icon');
        const closeIcon = toggleButton.querySelector('.close-icon');

        
        function toggleDropdown() {
          const isOpen = !dropdown.classList.contains('hidden');

          if (isOpen) {
            
            dropdown.classList.add('hidden');
            menuIcon.classList.remove('hidden');
            closeIcon.classList.add('hidden');
            document.body.style.overflow = 'auto';
          } else {
            
            dropdown.classList.remove('hidden');
            menuIcon.classList.add('hidden');
            closeIcon.classList.remove('hidden');
          }
        }

        
        toggleButton.addEventListener('click', toggleDropdown);

        
        document.addEventListener('click', function (e) {
          if (
            !toggleButton.contains(e.target) &&
            !dropdown.contains(e.target) &&
            !dropdown.classList.contains('hidden')
          ) {
            toggleDropdown();
          }
        });

        
        document.addEventListener('keydown', function (e) {
          if (e.key === 'Escape' && !dropdown.classList.contains('hidden')) {
            toggleDropdown();
          }
        });
      });
    </script>
  </body>
</html>
